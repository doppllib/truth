//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel-doppl/core-doppl/androidbasetest/src/main/java/co/touchlab/doppel/testing/VisualJunitRunner.java
//

#include "CoTouchlabDoppelTestingVisualJunitRunner.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/PrintStream.h"
#include "java/lang/System.h"
#include "java/lang/Thread.h"
#include "java/util/List.h"
#include "org/junit/runner/Description.h"
#include "org/junit/runner/JUnitCore.h"
#include "org/junit/runner/Result.h"
#include "org/junit/runner/notification/Failure.h"

@interface CoTouchlabDoppelTestingVisualJunitRunner ()

- (void)runAllInBackground;

- (OrgJunitRunnerResult *)runTestsByMyselfWithOrgJunitRunnerJUnitCore:(OrgJunitRunnerJUnitCore *)junit;

@end

__attribute__((unused)) static void CoTouchlabDoppelTestingVisualJunitRunner_runAllInBackground(CoTouchlabDoppelTestingVisualJunitRunner *self);

__attribute__((unused)) static OrgJunitRunnerResult *CoTouchlabDoppelTestingVisualJunitRunner_runTestsByMyselfWithOrgJunitRunnerJUnitCore_(CoTouchlabDoppelTestingVisualJunitRunner *self, OrgJunitRunnerJUnitCore *junit);

@interface CoTouchlabDoppelTestingVisualJunitRunner_$1 : JavaLangThread {
 @public
  CoTouchlabDoppelTestingVisualJunitRunner *this$0_;
}

- (void)run;

- (instancetype)initWithCoTouchlabDoppelTestingVisualJunitRunner:(CoTouchlabDoppelTestingVisualJunitRunner *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(CoTouchlabDoppelTestingVisualJunitRunner_$1)

J2OBJC_FIELD_SETTER(CoTouchlabDoppelTestingVisualJunitRunner_$1, this$0_, CoTouchlabDoppelTestingVisualJunitRunner *)

__attribute__((unused)) static void CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(CoTouchlabDoppelTestingVisualJunitRunner_$1 *self, CoTouchlabDoppelTestingVisualJunitRunner *outer$);

__attribute__((unused)) static CoTouchlabDoppelTestingVisualJunitRunner_$1 *new_CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(CoTouchlabDoppelTestingVisualJunitRunner *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CoTouchlabDoppelTestingVisualJunitRunner_$1 *create_CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(CoTouchlabDoppelTestingVisualJunitRunner *outer$);

@implementation CoTouchlabDoppelTestingVisualJunitRunner

- (void)runAllInBackground {
  CoTouchlabDoppelTestingVisualJunitRunner_runAllInBackground(self);
}

- (OrgJunitRunnerResult *)runTestsByMyselfWithOrgJunitRunnerJUnitCore:(OrgJunitRunnerJUnitCore *)junit {
  return CoTouchlabDoppelTestingVisualJunitRunner_runTestsByMyselfWithOrgJunitRunnerJUnitCore_(self, junit);
}

- (IOSObjectArray *)testClasses {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (void)goRun {
  [create_CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(self) start];
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  CoTouchlabDoppelTestingVisualJunitRunner_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgJunitRunnerResult;", 0x2, 0, 1, -1, -1, -1, -1 },
    { NULL, "[LIOSClass;", 0x404, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(runAllInBackground);
  methods[1].selector = @selector(runTestsByMyselfWithOrgJunitRunnerJUnitCore:);
  methods[2].selector = @selector(testClasses);
  methods[3].selector = @selector(goRun);
  methods[4].selector = @selector(init);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "runTestsByMyself", "LOrgJunitRunnerJUnitCore;" };
  static const J2ObjcClassInfo _CoTouchlabDoppelTestingVisualJunitRunner = { "VisualJunitRunner", "co.touchlab.doppel.testing", ptrTable, methods, NULL, 7, 0x401, 5, 0, -1, -1, -1, -1, -1 };
  return &_CoTouchlabDoppelTestingVisualJunitRunner;
}

@end

void CoTouchlabDoppelTestingVisualJunitRunner_runAllInBackground(CoTouchlabDoppelTestingVisualJunitRunner *self) {
  OrgJunitRunnerJUnitCore *junit = create_OrgJunitRunnerJUnitCore_init();
  OrgJunitRunnerResult *result = CoTouchlabDoppelTestingVisualJunitRunner_runTestsByMyselfWithOrgJunitRunnerJUnitCore_(self, junit);
  [((JavaIoPrintStream *) nil_chk(JreLoadStatic(JavaLangSystem, out))) printlnWithNSString:@"Junit complete"];
  if ([((OrgJunitRunnerResult *) nil_chk(result)) wasSuccessful]) {
    [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:@"Success"];
  }
  else {
    id<JavaUtilList> failures = [result getFailures];
    for (OrgJunitRunnerNotificationFailure * __strong failure in nil_chk(failures)) {
      [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:[((OrgJunitRunnerNotificationFailure *) nil_chk(failure)) description]];
      [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:JreStrcat("$$", @"message: ", [failure getMessage])];
      [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:JreStrcat("$$", @"description: ", [((OrgJunitRunnerDescription *) nil_chk([failure getDescription])) description])];
      [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:JreStrcat("$$", @"trace: ", [failure getTrace])];
    }
    [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:JreStrcat("$I", @"Failures ", [result getFailureCount])];
  }
  [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:JreStrcat("$I", @"Total ", [result getRunCount])];
}

OrgJunitRunnerResult *CoTouchlabDoppelTestingVisualJunitRunner_runTestsByMyselfWithOrgJunitRunnerJUnitCore_(CoTouchlabDoppelTestingVisualJunitRunner *self, OrgJunitRunnerJUnitCore *junit) {
  return [((OrgJunitRunnerJUnitCore *) nil_chk(junit)) runWithIOSClassArray:[self testClasses]];
}

void CoTouchlabDoppelTestingVisualJunitRunner_init(CoTouchlabDoppelTestingVisualJunitRunner *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CoTouchlabDoppelTestingVisualJunitRunner)

@implementation CoTouchlabDoppelTestingVisualJunitRunner_$1

- (void)run {
  CoTouchlabDoppelTestingVisualJunitRunner_runAllInBackground(this$0_);
}

- (instancetype)initWithCoTouchlabDoppelTestingVisualJunitRunner:(CoTouchlabDoppelTestingVisualJunitRunner *)outer$ {
  CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(self, outer$);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(run);
  methods[1].selector = @selector(initWithCoTouchlabDoppelTestingVisualJunitRunner:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCoTouchlabDoppelTestingVisualJunitRunner;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LCoTouchlabDoppelTestingVisualJunitRunner;", "goRun" };
  static const J2ObjcClassInfo _CoTouchlabDoppelTestingVisualJunitRunner_$1 = { "", "co.touchlab.doppel.testing", ptrTable, methods, fields, 7, 0x8008, 2, 1, 0, -1, 1, -1, -1 };
  return &_CoTouchlabDoppelTestingVisualJunitRunner_$1;
}

@end

void CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(CoTouchlabDoppelTestingVisualJunitRunner_$1 *self, CoTouchlabDoppelTestingVisualJunitRunner *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  JavaLangThread_init(self);
}

CoTouchlabDoppelTestingVisualJunitRunner_$1 *new_CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(CoTouchlabDoppelTestingVisualJunitRunner *outer$) {
  J2OBJC_NEW_IMPL(CoTouchlabDoppelTestingVisualJunitRunner_$1, initWithCoTouchlabDoppelTestingVisualJunitRunner_, outer$)
}

CoTouchlabDoppelTestingVisualJunitRunner_$1 *create_CoTouchlabDoppelTestingVisualJunitRunner_$1_initWithCoTouchlabDoppelTestingVisualJunitRunner_(CoTouchlabDoppelTestingVisualJunitRunner *outer$) {
  J2OBJC_CREATE_IMPL(CoTouchlabDoppelTestingVisualJunitRunner_$1, initWithCoTouchlabDoppelTestingVisualJunitRunner_, outer$)
}
